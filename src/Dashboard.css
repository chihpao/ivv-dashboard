:root{
  --bg:#ffffff;
  --card:#ffffff;
  --muted:#64748b;
  --text:#0f172a;
  --line:#d0d5dd;
  --accent:#2f80ed;
  --radius:14px;
  --gap:14px;
  --chart-height:320px;
}

*{ box-sizing:border-box; }

.page{
  padding:16px;
  color:var(--text);
  min-height:100vh;
  width:100%;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:var(--gap);
  box-sizing:border-box;
  max-width:100vw;
  overflow-x:hidden;
  background:#f5f7fb;
}


.loading{ padding:24px; }
.loading-screen{ min-height:100vh; display:flex; align-items:center; justify-content:center; padding:48px 16px; background:linear-gradient(135deg, #edf2fb 0%, #f7f9ff 100%); }
.loading-card{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:18px;
  padding:32px 40px;
  border-radius:20px;
  border:1px solid rgba(48,66,85,0.08);
  background:#ffffffee;
  box-shadow:0 18px 48px -24px rgba(35,52,70,0.55);
  max-width:320px;
  text-align:center;
}
.loading-orbit{
  position:relative;
  width:120px;
  height:120px;
  border-radius:50%;
  border:1px dashed rgba(53,79,110,0.38);
  display:flex;
  align-items:center;
  justify-content:center;
  animation:orbit-spin 9s linear infinite;
}
.loading-planet{
  position:absolute;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 18px rgba(47,128,237,0.45);
}
.loading-planet--core{ width:24px; height:24px; animation:planet-pulse 2.4s ease-in-out infinite; }
.loading-planet--satellite{
  width:14px;
  height:14px;
  top:-6px;
  right:24px;
  background:#f2994a;
  box-shadow:0 0 14px rgba(242,153,74,0.55);
  animation:satellite-orbit 3.8s ease-in-out infinite;
}
.loading-text{ display:flex; flex-direction:column; gap:6px; color:#1f2a37; }
.loading-title{ font-size:18px; font-weight:700; letter-spacing:2px; text-transform:uppercase; }
.loading-dots{ display:flex; justify-content:center; gap:6px; }
.loading-dots span{
  width:6px;
  height:6px;
  border-radius:50%;
  background:#2f80ed;
  animation:dot-hop 1.2s ease-in-out infinite;
}
.loading-dots span:nth-child(2){ animation-delay:0.15s; }
.loading-dots span:nth-child(3){ animation-delay:0.3s; }
.loading-sub{ font-size:13px; color:#5b6b80; max-width:240px; line-height:1.5; }

@keyframes orbit-spin{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}
@keyframes planet-pulse{
  0%,100%{ transform:scale(0.9); opacity:0.75; }
  50%{ transform:scale(1.15); opacity:1; }
}
@keyframes satellite-orbit{
  0%,100%{ transform:translate(0,0) scale(1); }
  50%{ transform:translate(4px,4px) scale(1.1); }
}
@keyframes dot-hop{
  0%,100%{ transform:translateY(0); opacity:0.4; }
  30%{ transform:translateY(-6px); opacity:1; }
  60%{ transform:translateY(0); opacity:0.6; }
}

.toolbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.title{ font-weight:700; font-size:20px; color:#1f2a37; }

.tool-actions{ display:flex; align-items:center; gap:8px; }
.tool-actions--disabled .label{ color:#9aa5b8; }
.filter-group{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; margin-left:auto; }
.select--placeholder{
  display:inline-flex;
  align-items:center;
  justify-content:flex-start;
  min-width:140px;
  height:32px;
  padding:6px 26px 6px 10px;
  border:1px dashed #95a1b7;
  border-radius:10px;
  background:#b8c0ce;
  box-shadow: inset 0 0 0 1px rgba(113,126,147,0.35);
  color:#6f7a8d;
  font-size:12px;
  letter-spacing:1px;
}
.select--placeholder span{ pointer-events:none; }
.label{ font-size:12px; color:var(--muted); }
.select{
  padding:6px 10px;
  border-radius:10px;
  border:1px solid #304255;
  background:#ffffff;
  color:var(--text);
  min-width:140px;
  width:140px;
}

.kpi-grid{
  display:grid;
  gap:var(--gap);
  grid-template-columns: repeat(1, minmax(0,1fr));
}
.kpi{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:14px;
}
.kpi-label{ font-size:12px; color:var(--muted); }
.kpi-value{ font-size:28px; font-weight:800; margin-top:6px; color:#0f172a; }
.kpi-detail{ margin-top:10px; }

.cards {
    display: grid;
    gap: var(--gap);
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    width: 100%;
    box-sizing: border-box;
  }
  

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  min-height:360px;
}

.card--insights{ min-height:0; }

.card-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  flex-wrap:wrap;
}
.card-title{ font-size:14px; font-weight:700; }

.actions{ display:flex; gap:8px; }
.btn{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid #37516d;
  background:#1b2735;
  color:#fff;
  font-size:12px;
  cursor:pointer;
}
.btn:disabled{ opacity:.6; cursor:not-allowed; }

.chart{ width:100%; height:var(--chart-height); }

.footer{ text-align:right; color:var(--muted); font-size:12px; }

.insights{ flex:1; }
.insights-list{
  margin:0;
  padding-left:18px;
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:13px;
  color:#1f2a37;
}
.insights-list li{ line-height:1.5; }
.empty{ font-size:13px; color:var(--muted); }



/* 平板 */
@media (min-width:768px){
  .kpi-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  .cards{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}

/* 桌面 */
@media (min-width: 1280px) {
  .kpi-grid { 
    grid-template-columns: repeat(5, minmax(0, 1fr));
    max-width: 100%;
  }
  .cards { 
    grid-template-columns: repeat(2, minmax(0, 1fr));
    max-width: 100%;
  }
  .page {
    padding: 16px 24px;
  }
}

@media (max-width: 767px) {
  .page{ padding:12px; }
  .toolbar{ align-items:flex-start; }
  .kpi-value{ font-size:24px; }
  :root{ --chart-height:260px; }
}
